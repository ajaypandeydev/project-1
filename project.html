<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>center</title>
    <link rel="stylesheet" href="project.css" />
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" />

</head>
<body>
    <div class="main-container">

        <!-- Left Sidebar -->
        <div class="left-sidebar">
            <div class="img-container">
                <img src="img/yello.png" alt="Company img" id="company-logo">
            </div>

            <!-- Nav Button -->
            <div class="sidebar-footer">
                <div id="user-details-btn">
                    <button class="animated-button">
                        <svg viewBox="0 0 24 24" class="arr-2" xmlns="http://www.w3.org/2000/svg">
                            <path
                            d="M16.1716 10.9999L10.8076 5.63589L12.2218 4.22168L20 11.9999L12.2218 19.778L10.8076 18.3638L16.1716 12.9999H4V10.9999H16.1716Z" ></path>
                        </svg>
                        <span class="text">Center Details</span>
                        <span class="circle"></span>
                        <svg viewBox="0 0 24 24" class="arr-1" xmlns="http://www.w3.org/2000/svg">
                            <path d="M16.1716 10.9999L10.8076 5.63589L12.2218 4.22168L20 11.9999L12.2218 19.778L10.8076 18.3638L16.1716 12.9999H4V10.9999H16.1716Z" ></path>
                        </svg>
                    </button>
                </div>

                <div id="project-details-btn">
                    <button class="animated-button">
                        <svg viewBox="0 0 24 24" class="arr-2" xmlns="http://www.w3.org/2000/svg">
                            <path
                            d="M16.1716 10.9999L10.8076 5.63589L12.2218 4.22168L20 11.9999L12.2218 19.778L10.8076 18.3638L16.1716 12.9999H4V10.9999H16.1716Z" ></path>
                        </svg>
                        <span class="text">Project Details</span>
                        <span class="circle"></span>
                        <svg viewBox="0 0 24 24" class="arr-1" xmlns="http://www.w3.org/2000/svg">
                            <path d="M16.1716 10.9999L10.8076 5.63589L12.2218 4.22168L20 11.9999L12.2218 19.778L10.8076 18.3638L16.1716 12.9999H4V10.9999H16.1716Z" ></path>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
        <!-- ========= Left Sidebar End Here ========= -->

        <!-- Right Sidebar -->
        <div class="bg-right-sidebar">

            <div class="page-header">
                <!-- Header -->
                <header class="header">
                    <h2>Project Details<span class="dot">.</span></h2>
                </header> 
            </div>    
                <!-- Cards Container -->
                <div class="cards">

                    <!-- project code.-->
                    <div class="info-card">
                        <h3 class="info-card-title">
                            <i class="fa-solid fa-lock"></i>
                            Project Code
                        </h3>
                        <span class="value">ABCD</span>
                    </div>
                    <!-- Project type. -->
                    <div class="info-card">
                        <h3 class="info-card-title" >
                            <i class="fa-solid fa-calendar-check"></i>
                            Project Type
                        </h3>
                        <span class="value">ABCD</span>
                    </div>
                    <!-- Project approval date. -->
                    <div class="info-card">
                        <div class="icon-heading" style="cursor:pointer;" onclick="toggleDatePicker('approval-datetime')">
                          <h3 class="info-card-title" >
                            <i class="fa-solid fa-calendar-check"></i>
                            Project Approval Date
                          </h3>
                          <span class="value">ABCD</span>
                        </div>
                    </div>

                    <!-- project nda. -->
                    <div class="info-card">
                        <div class="icon-heading" style="cursor:pointer;" onclick="toggleDatePicker('nda-datetime')">
                        <h3 class="info-card-title" >
                            <i class="fa-solid fa-calendar-check"></i>
                          Project NDA Date
                        </h3>
                        <span class="value">ABCD</span>
                      </div>
                    </div>

                    <!-- Center Visit Date.  -->
                    <div class="info-card">
                        <div class="icon-heading" style="cursor:pointer;" onclick="toggleDatePicker('center-visit-date')">
                            <h3 class="info-card-title" >
                            <i class="fa-solid fa-calendar-plus"></i>
                            Center Visit Date
                            </h3>
                            </div>
                            <span class="value">ABCD</span>
                    </div>

                    <!-- SLA Data. -->
                    <div class="info-card">
                        <h3 class="info-card-title" >
                          <i class="fa-solid fa-calendar-plus"></i>
                            SLA Data
                            </h3>
                        <span class="value">ABCD</span>
                    </div>

                    <!-- Software installation and status. -->
                    <div class="info-card">
                        <div class="icon-heading" style="cursor:pointer;"  >
                            <h3 class="info-card-title" >
                            <i class="fa-solid fa-calendar-plus"></i>
                            Software Installation Date and status
                            </h3>
                            <span class="value">ABCD</span>
                        </div>
                    </div>

                </div>

                <!-- Progress Bar -->
    <div class="progress-container">
        <div class="progress-header">
            <h1>Document Upload</h1>
            <p>Upload required documents to activate your project</p>
        </div>
        
        <!-- Progress Tracker -->
        <div class="progress-section">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        <div class="percentage" id="percentage">0%</div>
        <p id="statusMessage" class="status-message">Upload NDA, SLA & Invoice to Go Live.</p>
        
        <!-- Upload Section -->
        <div class="upload-section">
            <div class="file-upload" id="ndaSection">
                <label for="ndaUpload">ðŸ“„ Non-Disclosure Agreement (NDA)</label>
                <input type="file" id="ndaUpload" class="file-input" accept=".pdf" onchange="handleUpload(this, 'NDA')">
                <div class="upload-status pending" id="ndaStatus">Pending upload</div>
            </div>
            
            <div class="file-upload" id="slaSection">
                <label for="slaUpload">ðŸ“‹ Service Level Agreement (SLA)</label>
                <input type="file" placeholder="upload pdf" id="slaUpload" class="file-input" accept=".pdf" onchange="handleUpload(this, 'SLA')">
                <div class="upload-status pending" id="slaStatus">Pending upload</div>
            </div>
            
            <div class="file-upload" id="invoiceSection">
                <label for="invoiceUpload">ðŸ§¾ Invoice Document</label>
                <input type="file" id="invoiceUpload" class="file-input" accept=".pdf" onchange="handleUpload(this, 'Invoice')">
                <div class="upload-status pending" id="invoiceStatus">Pending upload</div>
            </div>
        </div>
    </div>

    </div>
<!-- ========== Right Sidebar Content End Here ======== -->
</div>

</body>
</html>

<script>

//   navigate to project details page,
  document.getElementById('user-details-btn').addEventListener('click', ()=>{
    window.location.href = 'center.html';
  })

// 
document.querySelector('#company-logo').addEventListener('click', ()=>{
    window.location.href = 'index.html';
})

//  progress bar functionality
let uploadFile = {
    NDA: false,
    SLA: false,
    Invoice: false,
}

function handleUpload(input, label){
    const file = input.files[0];
    if(file){
        if(file.type === 'application/pdf'){
            const statusElement =  document.getElementById(label.toLowerCase() + 'Status');
            const sectionElement = document.getElementById(label.toLowerCase() + 'Section' );

            statusElement.textContent = `${file.name} upload successfully`;
            statusElement.className = `upload-status success`;
            sectionElement.className = `file-upload completed`;

            uploadFile[label] = true;
            updateProgress()
        } else {
            alert('Please Upload the pdf file onyl');
            input.value = ""
        }
    }
}

function updateProgress(){
    const total = Object.keys(uploadFile).length; // count total files
    const completed = Object.values(uploadFile).filter(Boolean).length; // count total uploaded files
    const percentage = (completed / total) * 100;

    document.getElementById("progressBar").style.width = percentage + "%";
    document.getElementById("percentage").textContent = Math.round(percentage) + "%";

    let message = "";
    if(completed === 0){
        message = "Upoad NDA, SLA and Invoice to Go Live";
    }else if (completed < total) {
        message = `${completed} of ${total} files upload. keep Going!`;
    } else {
        message =  "ðŸŽ‰ All files uploaded! Project is LIVE!";
        document.getElementById("statusMessage").style.color = "#36AE7C";

        setTimeout(() => {        
        document.getElementById("progress-container").style.boxShadow = "rgba(6, 24, 44, 0.4) 0px 0px 0px 2px, rgba(6, 24, 44, 0.65) 0px 4px 6px -1px, rgba(255, 255, 255, 0.08) 0px 1px 0px inset";
        }, 500)
    }

    document.getElementById("statusMessage").innerText = message;
}

updateProgress()

</script>
